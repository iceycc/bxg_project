(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{163:function(t,a,s){t.exports=s.p+"assets/img/flow-type-define.28b7b1ff.png"},167:function(t,a,s){"use strict";s.r(a);var n=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"flow"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flow","aria-hidden":"true"}},[t._v("#")]),t._v(" Flow")]),t._v(" "),n("h2",{attrs:{id:"flow是什么？"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flow是什么？","aria-hidden":"true"}},[t._v("#")]),t._v(" Flow是什么？")]),t._v(" "),n("blockquote",[n("p",[t._v("FLOW IS A STATIC TYPE CHECKER FOR JAVASCRIPT.")])]),t._v(" "),n("p",[n("code",[t._v("Flow")]),t._v("是"),n("code",[t._v("FACEBOOK")]),t._v("公司开发的一个"),n("code",[t._v("JavaScript")]),t._v("静态类型检查工具。")]),t._v(" "),n("p",[t._v("需要注意的是，和"),n("code",[t._v("TypeScript")]),t._v("不同的是，"),n("code",[t._v("Flow")]),t._v("只是一个类型检查工具、而"),n("code",[t._v("TypeScript")]),t._v("是编程语言！且相较于"),n("code",[t._v("TypeScript")]),t._v("而言，"),n("code",[t._v("Flow")]),t._v("的学习成本会比较低，使用起来也会相对简单一些。")]),t._v(" "),n("h2",{attrs:{id:"flow能做什么？"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flow能做什么？","aria-hidden":"true"}},[t._v("#")]),t._v(" Flow能做什么？")]),t._v(" "),n("p",[t._v("简单的说Flow可以为JavaScript提供静态类型的能力。")]),t._v(" "),n("p",[t._v("Flow可以检查出JavaScript中的类型错误，Flow允许逐步为JavaScript代码添加类型，不需要一次性更改所有的代码。")]),t._v(" "),n("h2",{attrs:{id:"flow的使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flow的使用","aria-hidden":"true"}},[t._v("#")]),t._v(" Flow的使用")]),t._v(" "),n("h3",{attrs:{id:"flow-安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flow-安装","aria-hidden":"true"}},[t._v("#")]),t._v(" Flow 安装")]),t._v(" "),n("ol",[n("li",[t._v("安装Flow")])]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("npm i flow-bin -D\n")])])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("安装Babel")])]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("npm i babel-cli babel-preset-flow\n")])])]),n("h3",{attrs:{id:"flow-的命令行工具的使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flow-的命令行工具的使用","aria-hidden":"true"}},[t._v("#")]),t._v(" Flow 的命令行工具的使用")]),t._v(" "),n("ol",[n("li",[t._v("在"),n("code",[t._v("package.json")]),t._v("中添加相应的"),n("code",[t._v("scripts")]),t._v("执行"),n("code",[t._v("flow")]),t._v("命令")])]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{attrs:{class:"token property"}},[t._v('"name"')]),n("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"my-project"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{attrs:{class:"token property"}},[t._v('"main"')]),n("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"lib/index.js"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{attrs:{class:"token property"}},[t._v('"scripts"')]),n("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token property"}},[t._v('"build"')]),n("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"babel src/ -d lib/"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{attrs:{class:"token property"}},[t._v('"flow"')]),n("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"flow"')]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("使用"),n("code",[t._v("npx")]),t._v("执行"),n("code",[t._v("flow")]),t._v("命令")])]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("npx flow\n")])])]),n("p",[t._v("命令行工具很少使用，因为便捷程度较低，最常见的使用方式为IDE插件（VSCode等）")]),t._v(" "),n("p",[t._v("VSCode插件名称为："),n("code",[t._v("Flow Language Support")])]),t._v(" "),n("h3",{attrs:{id:"为代码添加flow类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#为代码添加flow类型","aria-hidden":"true"}},[t._v("#")]),t._v(" 为代码添加Flow类型")]),t._v(" "),n("p",[t._v("在代码中添加类型的方式有两种：")]),t._v(" "),n("ol",[n("li",[t._v("注释型：这种方式不会对代码产生任何影响，JS代码可以正常运行，但是代码结构会因为注释内容的存在降低可读性。")]),t._v(" "),n("li",[t._v("代码型（推荐）：这种方式会改变JS代码结构，需要配合babel使用才可正常运行")])]),t._v(" "),n("div",{staticStyle:{"text-align":"center"}},[n("img",{attrs:{src:s(163)}})]),t._v(" "),n("p",[t._v("注释型演示：")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token comment"}},[t._v("// @flow")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("test")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a "),n("span",{attrs:{class:"token comment"}},[t._v("/*: number*/")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b "),n("span",{attrs:{class:"token comment"}},[t._v("/*: number*/")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("/*: number*/")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),n("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("代码型演示：")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token comment"}},[t._v("// @flow")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("test")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" number"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" number"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" number"),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),n("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("不论哪种形式，都需要为文件添加 "),n("code",[t._v("// @flow")]),t._v(" 标记, 这样后台的flow进程才会对该文件进行类型检查")]),t._v(" "),n("p",[t._v("标记还可以书写为 "),n("code",[t._v("/* @flow */")])]),t._v(" "),n("p",[t._v("如果不想给所有文件都添加标记，又想flow对文件进行类型检查则在启动flow时需要使用命令"),n("code",[t._v("flow check --all")])]),t._v(" "),n("h3",{attrs:{id:"flow中的类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flow中的类型","aria-hidden":"true"}},[t._v("#")]),t._v(" Flow中的类型")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("number")]),t._v(" "),n("td",[t._v("数字、NaN、Infinity都是number类型的数据")])]),t._v(" "),n("tr",[n("td",[t._v("string")]),t._v(" "),n("td",[t._v("字符串")])]),t._v(" "),n("tr",[n("td",[t._v("null")]),t._v(" "),n("td",[t._v("只有null是null类型的")])]),t._v(" "),n("tr",[n("td",[t._v("void")]),t._v(" "),n("td",[t._v("undefined在flow中的类型就是void")])]),t._v(" "),n("tr",[n("td",[t._v("Array")]),t._v(" "),n("td",[t._v("数组类型，定义的时候需要使用"),n("code",[t._v("Array<T>")]),t._v("这种形式, T为指定的类型，说的是特定类型的数据组成的数组")])]),t._v(" "),n("tr",[n("td",[t._v("Object")]),t._v(" "),n("td",[t._v("对象类型，由于对象比较自由，所以规定对象类型的时候有多种写法")])]),t._v(" "),n("tr",[n("td",[t._v("any")]),t._v(" "),n("td",[t._v("表示任意类型，这个类型尽量少用，但有时又很有用！")])]),t._v(" "),n("tr",[n("td",[t._v("Functions")]),t._v(" "),n("td",[t._v("函数类型")])]),t._v(" "),n("tr",[n("td",[t._v("Maybe")]),t._v(" "),n("td",[t._v("Maybe类型允许我们声明一个包含null和undefined两个潜在类型的值。")])]),t._v(" "),n("tr",[n("td",[t._v("或操作")]),t._v(" "),n("td",[t._v("或操作可以设置一个变量为多种可能的类型 "),n("code",[t._v("类型1 | 类型2 | 类型3")])])]),t._v(" "),n("tr",[n("td",[t._v("类型推断")]),t._v(" "),n("td",[t._v("flow会尝试自行推断某个数据的类型")])])])])])}],v=s(0),e=Object(v.a)({},function(){this.$createElement;this._self._c;return this._m(0)},n,!1,null,null,null);e.options.__file="README.md";a.default=e.exports}}]);